
<h3 ng-if="newRequest"><span translate>New request for {{request.user.name}}</span></h3>
<h3 ng-if="editRequest"><span translate>Edit a request from {{request.user.name}}</span></h3>

<div ng-if="periodSelection">

    <!-- TODO planning -->

    <form class="form-inline" role="form">

        <div class="col-sm-7">
            <div class="form-group top17">
                <div class="input-group">
                    <label class="sr-only" for="absenceBeginDate">Begin date</label>
                    <div class="input-group-addon"><i class="fa fa-calendar"></i></div>
                    <input id="adbsenceBeginDate" class="form-control" ng-model="selection.begin" bs-datepicker type="date" placeholder="{{'Begin date'|translate}}" data-autoclose="1" />
                </div>

                <div class="input-group">
                    <label class="sr-only" for="absenceBeginHour">Begin hour</label>
                    <div class="input-group-addon"><i class="fa fa-clock-o"></i></div>
                    <input id="absenceBeginHour" class="form-control" ng-model="selection.begin" bs-timepicker type="text" size="5" maxsize="5" placeholder="{{'Hour'|translate}}" />
                </div>
            </div>


            <div class="form-group top17">
                <div class="input-group">
                    <label class="sr-only" for="absenceEndDate">End date</label>
                    <div class="input-group-addon"><i class="fa fa-calendar"></i></div>
                    <input id="adbsenceEndDate" class="form-control" ng-model="selection.end" bs-datepicker type="date" placeholder="{{'End date'|translate}}" data-autoclose="1" />
                </div>

                <div class="input-group">
                    <label class="sr-only" for="absenceEndHour">End hour</label>
                    <div class="input-group-addon"><i class="fa fa-clock-o"></i></div>
                    <input id="absenceEndHour" class="form-control" ng-model="selection.end" bs-timepicker type="text" size="5" maxsize="5" placeholder="{{'Hour'|translate}}" />
                </div>
            </div>
        </div>
        
        <div class="col-sm-5">
            <h4 translate>Selected duration:</h4>
            <p>{{duration}}</p>
            
            <p>Consumption on the selected period: {{days}}</p>
        </div>
        
        <div class="col-sm-12 top30">
            <button class="btn btn-primary" ng-click="next()" translate>Continue</button>
        </div>
    </form>
</div>

<div ng-if="assignments">
    
    <div class="row">
        <p>From to {{selection.begin|date}}, to the {{selection.end|date}}</p>
        <p class="text-primary" translate>Your period selection of {{days}} days (or {{hours}} hours) must be distribued into the following vacation rights</p>
    </div>

    <form class="form-horizontal" role="form">
    
        <div class="form-group" ng-repeat="accountRight in accountRights">
            
            <label for="{{accountRight.id}}" class="col-sm-3 control-label">{{accountRight.name}}</label>
            
            <div class="col-sm-2 input-group">
                <input id="{{accountRight.id}}" type="text" class="form-control" ng-model="distribution[accountRight._id]" />
                <span class="input-group-addon">{{accountRight.disp_unit}}</span>
            </div>
            
        </div>


        <button class="btn btn-primary" ng-click="saveCalendar()" translate>Save</button> 
        <button class="btn btn-link" ng-click="back()" translate>Cancel</button>
        
    </form>
</div>